function tctooltip(options){let defaultOptions,defaultOuterCss={padding:"3px","background-color":"transparent","z-index":1e3,opacity:"0",display:"inline-block",position:"absolute"},defaultInnerCss={padding:"8px","background-color":"#000",color:"#fff","font-size":"12px","font-family":"arial, sans-serif","text-align":"left","border-radius":"8px",opacity:"1","box-sizing":"border-box",display:"inline-block",position:"relative",top:"0px",bottom:"0px",left:"0px",right:"0px"};options={...{trigger:"tooltip",container:"tctooltip-box",content:"tctooltip-content",position:"cursor",skew:"default",cssOuter:{},cssInner:{},openDelay:0,closeDelay:0,effectSpeed:500,slide:!0,slideAmount:"6px",fade:!0},...options},this.init=function(){let trigger=document.querySelectorAll("."+options.trigger);this.settings=[],trigger.forEach((element,i)=>{settings[i]={boxIsOpen:!1,mouseIsOver:!1,mouseOverBox:!1,animationOn:!1,theBox:"",openTimer:"",closeTimer:"",fadeTimer:"",moveTimer:"",titleContent:"",trigger:element,reposition:options.position},attachEvents(element,i)})},this.attachEvents=function(trigger,i){trigger.addEventListener("mouseenter",(function(){if(settings[i].boxIsOpen)return effects.fadeIn(i),effects.slideIn(i),void stopClosing(i);getTitleContent(trigger,i),"cursor"!==options.position&&(settings[i].openTimer=setTimeout((function(){settings[i].theBox=createTooltipBox(i),fillTitleContent(settings[i].theBox.querySelector("."+options.content),i),placeTooltipBox(settings[i].theBox,trigger,i),effects.fadeIn(i),effects.slideIn(i)}),options.openDelay))})),trigger.addEventListener("mouseleave",(function(){if(!settings[i].boxIsOpen)return replaceTitleContent(i),clearTimeout(settings[i].openTimer),void clearTimeout(settings[i].moveTimer);removeBoxOnTimer(settings[i].theBox,i)})),trigger.addEventListener("mousemove",(function(e){settings[i].boxIsOpen||"cursor"!=options.position||(clearTimeout(settings[i].moveTimer),settings[i].moveTimer=setTimeout((function(){settings[i].theBox=createTooltipBox(i),fillTitleContent(settings[i].theBox.querySelector("."+options.content),i),placeTooltipBox(settings[i].theBox,trigger,i,e),effects.fadeIn(i),effects.slideIn(i)}),options.openDelay))}))},this.cssObjToString=function(obj,defaultValues){Object.entries(defaultValues).forEach(entry=>{const[key,value]=entry;void 0===obj[key]&&(obj[key]=value)});const str=Object.entries(obj).map(([k,v])=>`${k}:${v}`).join(";");return str},this.createTooltipBox=function(i){const outerBox=document.createElement("div");outerBox.style.cssText=cssObjToString(options.cssOuter,defaultOuterCss),options.slide&&(outerBox.style.padding=parseInt(options.cssOuter.padding)+parseInt(options.slideAmount)+"px"),"above"!==options.position&&"below"!==options.position||(outerBox.style.paddingLeft="1px",outerBox.style.paddingRight="1px"),"left"!==options.position&&"right"!==options.position||(outerBox.style.paddingTop="1px",outerBox.style.paddingBottom="1px"),outerBox.classList.add(options.container),document.querySelector("body").appendChild(outerBox);const innerBox=document.createElement("div");return innerBox.style.cssText=cssObjToString(options.cssInner,defaultInnerCss),innerBox.classList.add(options.content),outerBox.appendChild(innerBox),settings[i].boxIsOpen=!0,outerBox.addEventListener("mouseenter",(function(){settings[i].boxIsOpen&&(effects.fadeIn(i),effects.slideIn(i)),stopClosing(i)})),outerBox.addEventListener("mouseleave",(function(){removeBoxOnTimer(settings[i].theBox,i)})),outerBox},this.getTitleContent=function(element,i){settings[i].titleContent=element.getAttribute("title"),element.setAttribute("title","")},this.replaceTitleContent=function(i){settings[i].trigger.setAttribute("title",settings[i].titleContent)},this.fillTitleContent=function(element,i){element.innerHTML=settings[i].titleContent},this.destroyTooltipBox=function(element,i){element.remove(),settings[i].boxIsOpen=!1,settings[i].reposition=options.position},this.openBoxOnTimer=function(element,i){settings[i].openTimer=setTimeout((function(){}),options.openDelay)},this.removeBoxOnTimer=function(element,i){settings[i].closeTimer=setTimeout((function(){if(effects.fadeOut(i),effects.slideOut(i),!options.fade&&!options.slide)return destroyTooltipBox(element,i),void replaceTitleContent(i);settings[i].fadeTimer=setTimeout((function(){destroyTooltipBox(element,i),replaceTitleContent(i)}),options.effectSpeed)}),options.closeDelay)},this.getElementPosition=function(element){let boundaries=element.getBoundingClientRect(),boundariesAdj;return{top:boundaries.top+document.documentElement.scrollTop,left:boundaries.left+document.documentElement.scrollLeft}},this.ifBoxAtEndOfWindow=function(box){let boxPos;return getElementPosition(box).left+box.offsetWidth-document.documentElement.scrollLeft+1>window.innerWidth};const positionOfBox=(box,element)=>{let position=getElementPosition(element),contents=box.querySelector("."+options.content),boxSize_width=box.offsetWidth,boxSize_height=box.offsetHeight,elemSize_width=element.offsetWidth,elemSize_height=element.offsetHeight;const above=()=>{box.style.top=position.top-boxSize_height+"px"},below=()=>box.style.top=position.top+elemSize_height+"px",left=()=>{box.style.top=position.top-boxSize_height/2+elemSize_height/2+"px",box.style.left=position.left-boxSize_width+"px"},right=()=>{box.style.top=position.top-boxSize_height/2+elemSize_height/2+"px",box.style.left=position.left+elemSize_width+"px"},skewDefault=()=>box.style.left=position.left-boxSize_width/2+elemSize_width/2+"px",skewRight=()=>box.style.left=position.left-boxSize_width+elemSize_width+"px",skewLeft=()=>box.style.left=position.left+"px",correctRight=()=>box.style.left=document.documentElement.scrollLeft+"px",correctLeft=()=>box.style.left=window.innerWidth+document.documentElement.scrollLeft-boxSize_width+"px",correctTop=()=>box.style.top=window.innerHeight+document.documentElement.scrollTop-boxSize_height+"px",correctBottom=()=>box.style.top=document.documentElement.scrollTop+"px";return{above:above,below:below,left:left,right:right,skewDefault:skewDefault,skewRight:skewRight,skewLeft:skewLeft,correctRight:correctRight,correctLeft:correctLeft,correctTop:correctTop,correctBottom:correctBottom}};this.placeTooltipBox=function(box,trigger,i,evt){boxLocation=positionOfBox(box,trigger),"cursor"===options.position&&(box.style.top=evt.pageY+2+"px",box.style.left=evt.pageX+2+"px",ifBoxAtEndOfWindow(box)&&(box.style.left=box.offsetLeft-box.offsetWidth+"px",boxLocation.correctLeft()),box.offsetTop+box.offsetHeight>window.innerHeight&&(box.style.top=box.offsetTop-box.offsetHeight+"px")),"above"===options.position&&(boxLocation.above(),box.offsetTop-document.documentElement.scrollTop<0&&(boxLocation.below(),settings[i].reposition="below")),"below"===options.position&&(boxLocation.below(),box.offsetTop+box.offsetHeight-document.documentElement.scrollTop>window.innerHeight&&(boxLocation.above(),settings[i].reposition="above")),"left"===options.position&&(boxLocation.left(),box.offsetLeft-document.documentElement.scrollLeft<0&&(boxLocation.right(),settings[i].reposition="right")),"right"===options.position&&(boxLocation.right(),box.offsetLeft+box.offsetWidth-document.documentElement.scrollLeft>window.innerWidth&&(boxLocation.left(),settings[i].reposition="left")),"left"!==options.position&&"right"!==options.position||(console.log({boxOffsetTop:box.offsetTop,scrollTop:document.documentElement.scrollTop}),box.offsetTop+box.offsetHeight-document.documentElement.scrollTop>window.innerHeight&&(boxLocation.correctTop(),console.log("here2")),box.offsetTop-document.documentElement.scrollTop<0&&(boxLocation.correctBottom(),console.log("here"))),"above"!==options.position&&"below"!==options.position||("right"==options.skew&&"left"==options.skew||(boxLocation.skewDefault(),box.offsetLeft-document.documentElement.scrollLeft<0&&boxLocation.correctRight(),box.offsetLeft+box.offsetWidth-document.documentElement.scrollLeft>window.innerWidth&&boxLocation.correctLeft()),"right"===options.skew&&(boxLocation.skewRight(),box.offsetLeft-document.documentElement.scrollLeft<0&&boxLocation.correctRight()),"left"===options.skew&&(boxLocation.skewLeft(),box.offsetLeft+box.offsetWidth-document.documentElement.scrollLeft>window.innerWidth&&boxLocation.correctLeft()),ifBoxAtEndOfWindow(box)&&(boxLocation.skewLeft(),boxLocation.correctLeft()))},this.stopClosing=function(i){clearTimeout(settings[i].closeTimer),clearTimeout(settings[i].fadeTimer)};const effects={fadeIn:function(i){settings[i].theBox.style.opacity="1",options.fade&&(settings[i].theBox.style.transitionProperty="opacity",settings[i].theBox.style.transitionDuration=options.effectSpeed/1e3+"s")},fadeOut:function(i){options.fade&&(settings[i].theBox.style.opacity="0",settings[i].theBox.style.transitionProperty="opacity",settings[i].theBox.style.transitionDuration=options.effectSpeed/1e3+"s")},slideIn:function(i){if(!options.slide)return;let contentBox=settings[i].theBox.querySelector("."+options.content),slideAmount=options.slideAmount;"above"===settings[i].reposition&&(contentBox.style.top=slideAmount),"below"!==settings[i].reposition&&"cursor"!==settings[i].reposition||(contentBox.style.top="-"+slideAmount),"left"===settings[i].reposition&&(contentBox.style.left=slideAmount),"right"===settings[i].reposition&&(contentBox.style.left="-"+slideAmount),contentBox.style.transitionProperty="top, bottom, left, right",contentBox.style.transitionDuration=options.effectSpeed/1e3+"s"},slideOut:function(i){if(!options.slide)return;let contentBox=settings[i].theBox.querySelector("."+options.content),slideAmount=options.slideAmount;"above"===settings[i].reposition&&(contentBox.style.top="-"+slideAmount),"below"!==settings[i].reposition&&"cursor"!==settings[i].reposition||(contentBox.style.top=slideAmount),"left"===settings[i].reposition&&(contentBox.style.left="-"+slideAmount),"right"===settings[i].reposition&&(contentBox.style.left=slideAmount),contentBox.style.transitionProperty="top, bottom, left, right",contentBox.style.transitionDuration=options.effectSpeed/1e3+"s"}};this.init()}